<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=BhuTuka+Expanded+One&family=Major+Mono+Display&family=Poiret+One&family=Viga&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <meta charset="utf-8">
    <title>smhd</title>
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body class="wrapper">
    <div class="wrapper__mobile-menu" id="real_mobile_menu">
      <a href="/" class="mobile-menu__href">Лента</a>
      <a href="/archive.html" class="mobile-menu__href">Архив</a>
      <a href="/blog.html" class="mobile-menu__href">Блог</a>
      <a href="/contact.html" class="mobile-menu__href">Контакты</a>
    </div>
    <div class="wrapper__real" id="wrapper_real">
      <header class="wrapper__main__header">
        <div class="header__header-content">
          <input type="checkbox" id="mobile_button" class="menu-checkbox" hidden>
          <div class="menu-button" hidden></div>
          <a href="/" class="header-content__href">Лента</a>
          <a href="/archive.html" class="header-content__href">Архив</a>
          <a href="/" class="header__header-content__name">SMHD</a>
          <a href="./blog.html" class="header-content__href">Блог</a>
          <a href="./contact.html" class="header-content__href">Контакты</a>
        </div>
      </header>
      <div class="wrapper__content">
        <div class="wrapper__content__column-page">
          <div class="wrapper__content__column-page__info">
            <span class="wrapper__content__column-page__name">
              Архив
            </span>
            <span class="wrapper__content__column-page__description">
              Все мои проекты, которые я могу показать - тут !
            </span>
          </div>
          <div class="wrapper__content__column-archive">
            <!-- <div class="archive-year">
              <div class="archive-year__hr"></div>2022<div class="archive-year__hr"></div>
            </div> -->
            <!-- <div class="archive-piece">
              <div class="archive-piece__image">
                <img src="https://thumbs.dreamstime.com/z/%D0%BA%D0%B0%D0%BB%D0%B5%D0%BD%D0%B4%D0%B0%D1%80%D1%8C-%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D0%B0-%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8-%D0%BE%D1%82-%D0%B2%D0%BE%D1%81%D0%BA%D1%80%D0%B5%D1%81%D0%B5%D0%BD%D1%8C%D1%8F-%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%B0-%D0%B4%D0%B5%D0%BB%D0%B0-129203842.jpg" alt="">
              </div>
              <div class="archive-piece__name">
                <a href="">Тут очень интересный проект</a>
              </div>
            </div> -->
          </div>
        </div>
      </div>
      <footer class="wrapper__main__footer">
        Связаться со мной:
        <div class="footer__social">
          <a href="https://t.me/ShamanHead"><img src="./images/telegram-logo.svg" width=30 height=30 alt=""></a>
          <a href="https://github.com/ShamanHead"><img src="./images/github-logo.svg" width=30 height=30 alt=""></a>
          <a href="https://kwork.ru/user/shamanhead"><img src="./images/kwork-logo.png" width=30 height=30 alt=""></a>
        </div>
        <span style="margin-top:0.3%;">© 2017-2022 ShamanHead</span>
        <a href="mailto:ronyplay247@gmail.com">ronyplay247@gmail.com</a>
      </footer>
    </div>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/index.js"></script>
    <script>
      let newCases = cases.sort((a,b) => {
        if(a.getElementsByTagName("year")[0].innerHTML > b.getElementsByTagName("year")[0].innerHTML){
          return -1;
        } else {
          return 1;
        }
      });

      caseWrapper = $(".wrapper__content__column-archive")[0]

      lastElement = newCases[0].getElementsByTagName("year")[0].innerHTML;

      newCases.map((element, index) => {
        let caseName = element.getElementsByTagName("name")[0].innerHTML,
            caseDescription = element.getElementsByTagName("task")[0].innerHTML,
            caseTags = [].slice.call(element.getElementsByTagName("technologies")[0].getElementsByTagName("element"))
                         .map((element) => { return `<div class="case-tags__tag">` + element.innerHTML + `</div>` })
                         .reduce((el1, el2) => el1 + el2, ''),
            caseYear = element.getElementsByTagName("year")[0].innerHTML;

        if(caseYear != lastElement || index == 0) {
          caseWrapper.innerHTML += `
              <div class="archive-year">
                <div class="archive-year__hr"></div>${caseYear}<div class="archive-year__hr"></div>
              </div>
            `;
        }

        caseWrapper.innerHTML += `
          <div class="archive-piece">
            <div class="archive-piece__name">
              <a href="/item.html?item=${index}">${caseName}</a>
            </div>
          </div>

          `;

      })
    </script>
  </body>
</html>
